// @ts-nocheck
const wrap=document.getElementById("wrap"),capsule=document.getElementById("capsule"),panel=document.getElementById("panel"),itemsContainer=document.getElementById("items"),spotlight=document.getElementById("spotlight"),items=Array.from(itemsContainer.querySelectorAll(".item"));let SPOT_SIZE=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--spot-size"))||62,open=!1;function moveSpotTo(t,e=!0){if(t<0||t>=items.length)return;const o=items[t];items.forEach((t=>t.classList.remove("active"))),o.classList.add("active");const s=o.getBoundingClientRect(),n=itemsContainer.getBoundingClientRect(),i=s.top-n.top+s.height/2-SPOT_SIZE/2-8;e?(spotlight.style.transition="top 420ms cubic-bezier(.2,.9,.2,1)",spotlight.style.transform="translate(-50%, 0) scale(0.9)",spotlight.offsetWidth,spotlight.style.top=`${i}px`,setTimeout((()=>spotlight.style.transform="translate(-50%, 0) scale(1)"),120)):(spotlight.style.transition="none",spotlight.style.top=`${i}px`)}function setOpenState(t){open=!!t,capsule.classList.toggle("open",open),wrap.classList.toggle("active",open),open?(panel.classList.remove("hidden"),setTimeout((()=>{moveSpotTo(0,!1),spotlight.style.opacity=1}),50)):(spotlight.style.opacity=0,panel.classList.add("hidden"),items.forEach((t=>t.classList.remove("active"))))}capsule.addEventListener("click",(()=>setOpenState(!open))),items.forEach(((t,e)=>{t.addEventListener("click",(()=>{const o=t.dataset.target;moveSpotTo(e,!0),o&&setTimeout((()=>window.location.href=o),250)}))})),window.addEventListener("load",(()=>{setOpenState(!1),SPOT_SIZE=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--spot-size"))||SPOT_SIZE})),window.addEventListener("resize",(()=>{if(open){const t=items.findIndex((t=>t.classList.contains("active")));t>=0&&moveSpotTo(t,!1)}})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&setOpenState(!1)}));